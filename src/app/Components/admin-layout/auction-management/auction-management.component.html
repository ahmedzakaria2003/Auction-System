 <div class="auctions-page">
      <!-- Page Header -->
      <div class="page-header">
        <div class="header-content">
          <h2 class="text-auction-gold">
            <i class="fas fa-gavel me-2"></i>
            إدارة المزادات
          </h2>
          <p class="text-muted">إدارة جميع مزادات البائعين في النظام</p>
        </div>
    
      </div>

    <!-- Filters -->
  <div class="filters-section">
    <div class="row">
      <div class="col-md-3">
        <select class="form-select" [(ngModel)]="selectedStatus" (change)="loadAuctions()">
          <option value="">جميع الحالات</option>
          <option value="open">مفتوح</option>
          <option value="closed">مُغلق</option>
          <option value="canceled">مُلغى</option>
        </select>
      </div>
      <div class="col-md-3">
        <select class="form-select" [(ngModel)]="selectedCategory" (change)="loadAuctions()">
          <option value="">جميع الفئات</option>
          <option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
        </select>
      </div>
      <div class="col-md-4">
        <div class="search-box">
          <input type="text" class="form-control" placeholder="البحث في المزادات..."
                 [(ngModel)]="searchTerm" (input)="loadAuctions()">
          <i class="fas fa-search search-icon"></i>
        </div>
      </div>
      <div class="col-md-2">
        <button class="btn btn-outline-secondary w-100" (click)="resetFilters()">
          <i class="fas fa-refresh me-2"></i>إعادة تعيين
        </button>
      </div>
    </div>
  </div>


      <!-- Auctions Table -->
      <div class="auctions-table-container">
        <div class="table-responsive">
          <table class="table auctions-table">
            <thead>
              <tr>
                <th>الصورة</th>
                <th>عنوان المزاد</th>
                <th>البائع</th>
                <th>الفئة</th>
                <th>السعر الابتدائي</th>
                <th>عدد المزايدات</th>
                <th>الحالة</th>
                <th>تاريخ الانتهاء</th>
                <th>الإجراءات</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let auction of filteredAuctions" class="auction-row">
              <td>
              <div class="auction-image">
                <img [src]="(auction.thumbnailImage && auction.thumbnailImage[0]) ? normalizeImageUrl(auction.thumbnailImage[0]) : ''"
                     alt="{{auction.title}}" class="img-thumbnail" *ngIf="auction.thumbnailImage && auction.thumbnailImage[0]">
                <span *ngIf="!auction.thumbnailImage || !auction.thumbnailImage[0]" class="text-muted">لا يوجد صورة</span>
              </div>
            </td>
                <td>
                  <div class="auction-title">
                    <h6 class="mb-1">{{auction.title}}</h6>
                    <small class="text-muted">ID: {{auction.id.substring(0, 8)}}...</small>
                  </div>
                </td>
                <td>
                  <span class="seller-name">{{auction.sellerName}}</span>
                </td>
                <td>
                  <span class="category-badge">{{auction.categoryName}}</span>
                </td>
                <td>
                  <span class="price">${{auction.startingPrice | number:'1.2-2'}}</span>
                </td>
                <td>
                  <span class="bids-count">
                    <i class="fas fa-hand-paper me-1"></i>
                    {{auction.bidsCount}}
                  </span>
                </td>
                <td>
                  <span class="status-badge" [ngClass]="getStatusClass(auction.auctionStatus)">
                    {{getStatusText(auction.auctionStatus)}}
                  </span>
                </td>
                <td>
                  <span class="end-time">{{formatDate(auction.endTime)}}</span>
                </td>
                <td>
                  <div class="action-buttons">
                  
                    <button class="btn btn-sm btn-danger" (click)="cancelAuction(auction.id)" 
                            title="إلغاء المزاد" [disabled]="auction.auctionStatus === 'closed'||auction.auctionStatus === 'canceled'">
                      <i class="fas fa-ban"></i>
                    </button>
                    <button class="btn btn-sm btn-secondary" (click)="deleteAuction(auction.id)" 
                            title="حذف" >
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </td>
              </tr>
               <tr *ngIf="filteredAuctions.length === 0">
          <td colspan="9" class="text-center  text-danger">
            {{ noAuctionsMessage }}
          </td>
        </tr>
            </tbody>
          </table>
        </div>
      </div>

     <!-- Pagination -->
      <div class="pagination-container">
        <nav>
          <ul class="pagination justify-content-center">
            <li class="page-item" [class.disabled]="currentPage === 1">
              <a class="page-link" (click)="changePage(currentPage - 1)">السابق</a>
            </li>
            <li class="page-item" *ngFor="let page of getPageNumbers()" 
                [class.active]="page === currentPage">
              <a class="page-link" (click)="changePage(page)">{{page}}</a>
            </li>
            <li class="page-item" [class.disabled]="currentPage === totalPages">
              <a class="page-link" (click)="changePage(currentPage + 1)">التالي</a>
            </li>
          </ul>
        </nav>
      </div>

    </div>



